# jg-modbus

适配JG-Gateway设备的Modbus包

## Contributors

| 参与者   | 时间                | email            |
|-------|-------------------|------------------|
| zyc   | 2022-08 ~ 2023-01 | 584405019@qq.com |
| voson | 2023-02 ~ ?       | 664241487@qq.com |


## 格式

### 基本格式

使用可变帧长。数据传输顺序为低位在前，高位在后；低字节在前，高字节在后。

1字节	6字节	1字节	1字节	1字节	1字节  4字节		N字节	1字节	1字节
68H		开关地址	68H		控制		命令码	长度L  标志码		数据信息	校验CS	16H

### 长度L

用户数据的字节总长度。

### 控制字

1个字节，定义数据传送方向及数据帧种类。

### 终端地址

6个字节，选址范围为000000000001H～FFFFFFFFFFFFH，其中FFFFFFFFFFFFH为广播地址，000000000000H为无效地址。



### CRC 校验

1个字节，是控制字、终端地址、命令码、用户数据的字节的八位位组算术和，不考虑溢出位，即：CS＝（控制字+终端地址+命令码+用户数据）MOD 256。

### 注册包、心跳包
88 xx xx xx xx xx xx(网关地址) 88 00 16



